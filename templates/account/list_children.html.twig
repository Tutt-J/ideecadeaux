{% extends "account/base.html.twig" %}

{% block body %}
    <!-- Page Heading -->
    <div class="d-sm-flex align-items-center justify-content-between mb-4">
        <h1 class="h3 mb-2 text-gray-800">Mes enfants</h1>
        <a href="{{ path('addChildren') }}" class="btn btn-primary"><i class="fas fa-plus pr-3"></i>Ajouter un enfant</a>

    </div>
    <!-- DataTales Example -->
    <div class="card shadow mb-4">
        <div class="card-header py-3">
            <h6 class="m-0 font-weight-bold text-primary display-6">Liste</h6>
        </div>
        <div class="card-body">
            <div class="table-responsive">
                <table class="table table-bordered" id="dataTable" width="100%" cellspacing="0">
                    <thead>
                    <tr>
                        <th>Nom</th>
                        <th>Prenom</th>
                        <th>Actions</th>
                    </tr>
                    </thead>
                    <tfoot>
                    <tr>
                        <th>Nom</th>
                        <th>Prenom</th>
                        <th>Actions</th>
                    </tr>
                    </tfoot>
                    <tbody>
                    {% for member in app.user.children %}
                        <tr>
                            <td>{{ member.lastName }}</td>
                            <td>{{ member.firstName }}</td>
                            <td>
                                <a href="{{ path('viewChildAllList', {'id': member.id}) }}" title="Voir la liste de cadeaux"><i class="fas fa-clipboard-list"></i></a>
                                <button
                                        class="btn btn-link"
                                        data-bs-body="{{ "Voulez-vous supprimer l'enfant " ~ member.firstName ~ " " ~member.lastName ~" ? Sa liste sera aussi supprimÃ©e." }}"
                                        data-bs-button="Supprimer"
                                        data-bs-url="{{ path("deleteChild", {'id' : member.id}) }}"
                                        data-bs-title="{{ "Supprimer un enfant" }}"
                                        data-bs-toggle="modal"
                                        data-bs-target="#deleteModal"
                                        title="Voir la liste de cadeaux">
                                    <i class="fas fa-trash-alt text-danger"></i>
                                </button>
                            </td>
                        </tr>
                    {% endfor %}
                    </tbody>
                </table>
            </div>
        </div>
    </div>


{% include "account/_modal.html.twig" %}
{% endblock %}
{#href="{{ path('deleteChildren', {'id': member.id}) }}"#}
